<!DOCTYPE html>
<html lang="en">
	<head>
		<title>three.js webgl - animation - keyframes</title>
		<meta charset="utf-8" />
		<meta
			name="viewport"
			content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
		/>
		<link type="text/css" rel="stylesheet" href="main.css" />
		<style>
			body {
				background-color: #bfe3dd;
				color: #000;
			}

			a {
				color: #2983ff;
			}
		</style>
	</head>

	<body>
		<div id="container"></div>

		<div id="info">
			<a href="https://threejs.org" target="_blank" rel="noopener">three.js</a>
			webgl - animation - keyframes<br />
			Model:
			<a
				href="https://artstation.com/artwork/1AGwX"
				target="_blank"
				rel="noopener"
				>Littlest Tokyo</a
			>
			by
			<a href="https://artstation.com/glenatron" target="_blank" rel="noopener"
				>Glen Fox</a
			>, CC Attribution.
		</div>

		<script type="importmap">
			{
				"imports": {
					"three": "../build/three.module.js",
					"three/addons/": "./jsm/"
				}
			}
		</script>

		<script type="module">
			import * as THREE from "three";

			import Stats from "three/addons/libs/stats.module.js";

			import { OrbitControls } from "three/addons/controls/OrbitControls.js";
			import { RoomEnvironment } from "three/addons/environments/RoomEnvironment.js";

			import { GLTFLoader } from "three/addons/loaders/GLTFLoader.js";
			import { DRACOLoader } from "three/addons/loaders/DRACOLoader.js";

			// 创建场景
const scene = new THREE.Scene();

// 创建相机
const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
camera.position.set(0, 2, 5);

// 创建渲染器
const renderer = new THREE.WebGLRenderer();
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

// 添加光源
const ambientLight = new THREE.AmbientLight(0x404040);
scene.add(ambientLight);

// 创建墙体的材质
// const wallMaterial = new THREE.MeshBasicMaterial({ 
// 	color: 0x777777,
// 	transparent: true,
// 	opacity:0.3
// 	// wireframe: true, // 启用轮廓效果
// });
// const archiveDiv = document.createElement('div')
// 						archiveDiv.className = 'archiveLabel'
// 						archiveDiv.textContent = '档案室'
// 						const archiveLabel =new CSS2DObject(archiveDiv)
// 						archiveLabel.position.set(0, 2, 0)
// 						archive.add(archiveLabel)
// 						earthMassLabel.layers.set( 1 );

const materials = [
  new THREE.MeshBasicMaterial({ color: 0xff0000 }), // 正面红色
  new THREE.MeshBasicMaterial({ color: 0xff0000 }), // 背面绿色
  new THREE.MeshBasicMaterial({ color: 0x0000ff }), // 顶部蓝色
  new THREE.MeshBasicMaterial({ color: 0x0000ff }), // 底部黄色
  new THREE.MeshBasicMaterial({ color: 0xff00ff }), // 右侧品红色
  new THREE.MeshBasicMaterial({ color: 0xff00ff })  // 左侧青色
];
// 创建档案馆的墙体
const wallGeometry = new THREE.BoxGeometry(6, 2, 0.1);
const frontWall1 = new THREE.Mesh(wallGeometry, materials);
frontWall1.position.set(0, 1, -3.5);
scene.add(frontWall1);
const frontWall2 = new THREE.Mesh(wallGeometry, materials);
frontWall2.position.set(0, 1, 2.5);
scene.add(frontWall2);

const sideWall1 = new THREE.Mesh(wallGeometry, materials);
sideWall1.position.set(3, 1, -0.5);
sideWall1.rotation.y = Math.PI / 2;
scene.add(sideWall1);

const sideWall2 = new THREE.Mesh(wallGeometry, materials);
sideWall2.position.set(-3, 1, -0.5);
sideWall2.rotation.y = Math.PI / 2;
scene.add(sideWall2);

// 创建顶部的材质
const roofMaterial = new THREE.MeshBasicMaterial({ color: 0xaaaaaa });

// 创建档案馆的顶部
const roofGeometry = new THREE.ConeGeometry(1.5, 1, 4);
const roof = new THREE.Mesh(roofGeometry, roofMaterial);
roof.position.set(0, 2.05, 0);
// scene.add(roof);

// 创建地面的材质
const groundMaterial = new THREE.MeshBasicMaterial({ color: 0xffffff });

// 创建地面
const groundGeometry = new THREE.PlaneGeometry(10, 10);
const ground = new THREE.Mesh(groundGeometry, groundMaterial);
ground.rotation.x = -Math.PI / 2; 
scene.add(ground);
//创建档案室
const archivesGeometry =new THREE.BoxGeometry(5,1.5,2)
//创建档案室材质
const archiveMaterial= new THREE.MeshBasicMaterial({
	color:0x66c1f5,
	transparent: true,
	opacity:0.5
})
const archive1 =new THREE.Mesh(archivesGeometry,archiveMaterial)
archive1.position.set(0,1,-2)
scene.add(archive1)
const archive2 =new THREE.Mesh(archivesGeometry,archiveMaterial)
archive2.position.set(0,1,1)
scene.add(archive2)
//创建密集架
const compactShelving =new THREE.BoxGeometry(0.6,1,1.5)
const compactShelvingMaterial =new THREE.MeshBasicMaterial({
	color:0x04f640
})
const compactShelving1 =new THREE.Mesh(compactShelving,compactShelvingMaterial)
compactShelving1.position.set(-2,1,-2)
const compactShelving2 =new THREE.Mesh(compactShelving,compactShelvingMaterial)
compactShelving2.position.set(-1,1,-2)
const compactShelving3 =new THREE.Mesh(compactShelving,compactShelvingMaterial)
compactShelving3.position.set(0,1,-2)
const compactShelving4 =new THREE.Mesh(compactShelving,compactShelvingMaterial)
compactShelving4.position.set(1,1,-2)
const compactShelving5 =new THREE.Mesh(compactShelving,compactShelvingMaterial)
compactShelving5.position.set(2,1,-2)
scene.add(compactShelving1)
scene.add(compactShelving2)
scene.add(compactShelving3)
scene.add(compactShelving4)
scene.add(compactShelving5)
//创建密集架材质


// 创建控制器
const controls = new OrbitControls(camera, renderer.domElement);

// 渲染循环
const animate = () => {
  requestAnimationFrame(animate);

  controls.update();

  renderer.render(scene, camera);
};

animate();

		</script>
	</body>
</html>
